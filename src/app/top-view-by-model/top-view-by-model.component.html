<div *ngIf="handelsbenamingSummary | async as summary; else loading"  fxLayout="column" fxFlexAlign="center">

  <h1>Total: {{summary.total | number }}</h1>

<table mat-table [dataSource]="summary.handelsbenamingTotal"  fxFill >

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->
        <ng-container matColumnDef="position">
          <th class="text-align-right" mat-header-cell *matHeaderCellDef  style="width:15px" > # </th>
          <td class="text-align-right" mat-cell *matCellDef="let element; let i = index;">{{i+1}}</td>
        </ng-container>

  <!-- Position Column -->
  <ng-container matColumnDef="handelsbenaming">
    <th mat-header-cell *matHeaderCellDef > <strong>Model</strong> </th>
    <td mat-cell *matCellDef="let element"> {{element.handelsbenaming}}  </td>
  </ng-container>

  <ng-container matColumnDef="merk" >
    <th mat-header-cell *matHeaderCellDef fxHide.lt-sm > <strong>Brand</strong> </th>
    <td mat-cell *matCellDef="let element" fxHide.lt-sm> {{element.merk}}  </td>
  </ng-container>

  <ng-container matColumnDef="voertuigsoort" >
    <th mat-header-cell *matHeaderCellDef fxHide.lt-sm> <strong>Type</strong> </th>
    <td mat-cell *matCellDef="let element" fxHide.lt-sm> {{element.voertuigsoort}}  </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="count"  >
    <th class="text-align-right" mat-header-cell *matHeaderCellDef  > <strong>Total.</strong> </th>
    <td class="text-align-right" mat-cell *matCellDef="let element"  > {{element.count | number}} </td>
  </ng-container>

  <ng-container matColumnDef="percentage">
    <th class="text-align-right" mat-header-cell *matHeaderCellDef > <strong>(%)</strong> </th>
    <td class="text-align-right" mat-cell *matCellDef="let element"> {{element.percentage | percent : '1.1-2'}}  </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
</div>

<ng-template #loading>
  <div><h2>Loading...</h2></div>
  <mat-progress-bar
  mode="indeterminate">
</mat-progress-bar>
</ng-template>